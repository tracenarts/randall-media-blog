---
import "../assets/style.css";

type Props = {
	title?: string;
	description?: string;
	image?: string;
	bsky?: string;
};

const { title, description, image, bsky } = Astro.props;
---

<!doctype html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Randall's Media Thread Blog - {title}</title>
		<meta content={title} property="og:title" />
		<meta content={description} property="og:description" />
		<meta content={Astro.url.toString()} property="og:url" />
		<meta content={image} property="og:image" />
		<meta content="#7143B5" data-react-helmet="true" name="theme-color" />
		<!-- WHY THE FUCK ARE THERE SO MANY OF THESE AND WHY DOES TWITTER NEED ITS OWN -->
		<meta name="twitter:card" content="og:image" />
	</head>

	<body>
		<div class="wrapper">
			<a href="/">
				<div id="header">
					<h1>Randall's Media Thread Blog</h1>
				</div>
			</a>

			<div class="links">
				<!-- {
					bsky && (
						<>
							<a href={bsky}>‚Üê Back to Bluesky tweet</a>
							||
						</>
					)
				} -->
				<a href="/archive/">Post Archive</a>
			</div>
			<div class="main">
				<slot />
			</div>
			<div class="footer">
				Base CSS made by EGGRAMEN, with <strike>frustration</strike> love. Special thanks to <a style="color:#e486be" href="https://snep.pw/">Snep</a> for making this project viable for me.
			</div>
		</div>
	</body>
</html>

<script>
	(() => {
		const headerImages = [
			"/img/headers/eupho1.png",
			"/img/headers/saki.webp",
			"/img/headers/zombie.webp",
			"/img/headers/yuki.webp",
			"/img/headers/nanoha.webp",
		];

		const headerElement = document.getElementById("header")!;
		const randomHeader =
			headerImages[Math.floor(Math.random() * headerImages.length)];
		headerElement.style.backgroundImage = `url(${randomHeader})`;
	})();
</script>

<style>
	body {
		background: rgba(37, 37, 37);
		font-family: "Candara", "Open Sans", sans-serif;
		font-size: 16px;
		color: white;
	}

	#header {
		position: relative;
		height: 300px;
		border-bottom: 3px solid black;
		margin: 0 auto;
		overflow: hidden;
		/*Header image -- replace with your own!*/
		background-size: cover;
	}

	/*This and the header-title class are deprecated now that this style uses a background image for the header div.*/
	/*.header img {
  display: block;
  opacity: 0.35;
  width: 100%;
  height: 100%;
  overflow: hidden;
  }
*/

	/*If you want to use a smaller title or normal text, add .header p or .header h4 or whatever to the list*/
	#header h2,
	#header h3,
	#header h1 {
		font-weight: bold;
		color: white;
		text-align: right;
		border: 0px solid green;
		position: absolute;
		bottom: 1px;
		left: 345px;
		opacity: 0.999999;
		text-shadow: #000 2px 2px 3px;
	}

	.links {
		background: black;
		padding: 10px;
		border-bottom: 3px solid black;
	}

	.links a {
		color: white;
		padding: 3px;
		margin-left: 5px;
		margin-right: 5px;
		text-decoration: none;
		font-size: 17px;
	}

	.links a:hover {
		text-decoration: underline;
	}

	/*Everything in the main box goes in this*/
	.wrapper {
		width: 750px;
		border: 3px solid black;
		margin: 0 auto;
		top: 0px;
	}

	.footer {
		background: black;
		padding: 20px;
		padding-top: 5px;
		padding-bottom: 5px;
		border-top: 3px solid black;
		font-size: 14px;
	}

	/*For narrow screens*/
	@media (max-width: 790px) {
		.wrapper {
			width: 95%;
		}

		#header h2,
		#header h3,
		#header h1 {
			left: auto;
			text-align: center;
			bottom: 5px;
			width: 100%;
		}
	}

	@media (max-width: 430px) {
		#header{
			height:155px;
		}
		#header h2,
		#header h3,
		#header h1 {
			font-size: 24px;
		}
	}
</style>
